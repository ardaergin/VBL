{% extends "base.html" %}

{% block content %}
<div class="container mt-3">
        
    <!-- Selections made will move to this row in the top-left -->
    <div id="selectionsRow" class="selections-container hidden">
        <!-- Selections will be displayed here -->
        <div id="selectedTags" class="selected-tags d-flex flex-wrap align-items-center"></div>

        <!-- Change Selection Button -->
        <button id="changeSelectionBtn" class="btn btn-sm btn-danger change-selection-btn hidden" onclick="resetSelections()">
            Change Selection
        </button>
    </div>

    <h1 class="text-center">Researcher manual</h1>

    <!-- Faculty question -->
    <div id="facultyQuestion" class="form-group text-center">
        <label class="d-block mb-3" style="font-size: 1.4rem; font-weight: bold;">Which faculty are you a part of?</label>
        
        <div class="d-flex justify-content-center flex-wrap">
            <div class="question-card" id="facultyFGB" onclick="handleFacultySelection('FGB')">
                <i class="fa-solid fa-person-running fa-3x mb-2"></i>
                <p class="mb-0">FGB</p>
            </div>
            <div class="question-card" id="facultySBE" onclick="handleFacultySelection('SBE')">
                <i class="fa fa-chart-line fa-3x mb-2"></i>
                <p class="mb-0">SBE/FSG/BETA</p>
            </div>
        </div>
        <span class="faculty-text">
            <b>FGB</b>: Faculty of Behavioural and Movement Sciences <br>
            <b>SBE</b>: School of Business and Economics <br>
            <b>FSG</b>: Faculty of Social Sciences and Humanities <br>
            <b>BETA</b>: Faculty of Science 
        </span>
    </div>

    <!-- Study type question, hidden initially -->
    <div id="studyTypeQuestion" class="form-group text-center hidden">
        <label class="d-block mb-3" style="font-size: 1.4rem; font-weight: bold;">Is your study an online study or a lab study?</label>
        
        <div class="d-flex justify-content-center flex-wrap">
            <div class="question-card" id="studyOnline" onclick="handleStudyType('Online Study')">
                <i class="fa fa-laptop fa-2x mb-2"></i>
                <p class="mb-0">Online Study</p>
            </div>
            <div class="question-card" id="studyLab" onclick="handleStudyType('Lab Study')">
                <i class="fa-solid fa-building fa-2x mb-2"></i>
                <p class="mb-0">Lab Study</p>
            </div>
        </div>
    </div>

    <!-- Assistants question, hidden initially -->
    <div id="nextQuestion" class="form-group text-center hidden">
        <label class="d-block mb-3" style="font-size: 1.4rem; font-weight: bold;">Will you be requesting research assistants from us?<br>
            (If you are a PhD student, you need to conduct your study yourself.)
        </label>
        <div class="d-flex justify-content-center flex-wrap">
            <div class="question-card" id="assistYes" onclick="handleAssistants('Request Assistants')">
                <i class="fa fa-users fa-2x mb-2"></i>
                <p class="mb-0">Yes</p>
            </div>
            <div class="question-card" id="assistNo" onclick="handleAssistants('Conduct Study Yourself')">
                <i class="fa fa-user fa-2x mb-2"></i>
                <p class="mb-0">No</p>
            </div>
        </div>
    </div>


    

    <!-- Study Steps will be revealed after all questions are answered -->
    <div id="studySteps" class="mt-4 hidden">

        <!-- VBL Portal Button -->
        <div class="vbl-portal-button-container text-center my-4">
            <a href="https://vu-vbl.sona-systems.com/Default.aspx?ReturnUrl=%2f" target="_blank" rel="noopener noreferrer" style="text-decoration: none;">
                <button style="
                    width: 100%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    padding: 10px 15px;
                    background-color: transparent;
                    color: #007bff; /* Matches the blue used in other buttons */
                    font-size: 18px;
                    border: 2px solid #007bff; /* Blue border to match style */
                    border-radius: 8px;
                    cursor: pointer;
                    transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease;">
                    <img src="{{ url_for('static', filename='images/sona.png') }}" alt="VBL Logo" style="width: 24px; height: 24px; margin-right: 10px;">
                    <span style="font-weight: 600;">Take me to VBL SONA participant pool!</span>
                </button>
            </a>
        </div>
        
        <div class="step-buttons-container" style="display: flex; flex-direction: column; gap: 20px; margin-top: 20px;">
            <!-- Dynamically generated links -->
            <a href="#" id="step1Link" class="step-button">
                <button style="
                    width: 100%;
                    padding: 15px;
                    background-color: transparent;
                    border: 2px solid #007bff;
                    color: #007bff;
                    font-size: 22px;
                    border-radius: 8px;
                    text-align: center;
                    cursor: pointer;
                    transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease;">
                    Step 1: Study creation
                </button>
            </a>
            <a href="#" id="step2Link" class="step-button">
                <button style="
                    width: 100%;
                    padding: 15px; 
                    background-color: transparent;
                    border: 2px solid #007bff;
                    color: #007bff;
                    font-size: 22px;
                    border-radius: 8px;
                    text-align: center;
                    cursor: pointer;
                    transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease;">
                    Step 2: Running your study
                </button>
            </a>
        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='js/researcher_overview.js') }}"></script>
<link rel="stylesheet" href="{{ url_for('static', filename='css/researcher_overview.css') }}">  

{% endblock %}
