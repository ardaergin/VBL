{% extends "base.html" %}

{% block content %}
<div class="container mt-3">

    <!-- Selections made will move to this row in the top-left -->
    <div id="selectionsRow" class="d-flex flex-row justify-content-between align-items-center mb-4 hidden" style="min-height: 50px;">
        <!-- Selections will be displayed here -->
        <div id="selectedTags" class="d-flex flex-row align-items-center"></div>
    
        <!-- Change Selection Button -->
        <button id="changeSelectionBtn" class="btn btn-outline-danger hidden" onclick="resetSelections()">Change Selection</button>
    </div>

    <!-- Faculty question -->
    <div id="facultyQuestion" class="form-group text-center">
        <label class="d-block mb-3" style="font-size: 1.2rem;">Which faculty are you a part of?</label>
        
        <!-- FMG / SBE buttons -->
        <div class="btn-group" role="group" aria-label="Faculty question">
            <button type="button" id="facultyFMG" class="btn btn-outline-primary btn-lg" onclick="handleFacultySelection('FMG')">FMG</button>
            <button type="button" id="facultySBE" class="btn btn-outline-primary btn-lg" onclick="handleFacultySelection('SBE')">SBE</button>
        </div>
    </div>

    <!-- Study type question, hidden initially -->
    <div id="studyTypeQuestion" class="form-group text-center hidden">
        <label class="d-block mb-3" style="font-size: 1.2rem;">Is your study an online study or a lab study?</label>
        
        <!-- Online / Lab buttons -->
        <div class="btn-group" role="group" aria-label="Study type question">
            <button type="button" id="studyOnline" class="btn btn-outline-primary btn-lg" onclick="handleStudyType('Online Study')">Online Study</button>
            <button type="button" id="studyLab" class="btn btn-outline-primary btn-lg" onclick="handleStudyType('Lab Study')">Lab Study</button>
        </div>
    </div>

    <!-- Assistants question, hidden initially -->
    <div id="nextQuestion" class="form-group text-center hidden">
        <label class="d-block mb-3" style="font-size: 1.2rem;">Will you be requesting research assistants from us? <br> 
            (<i>Please note that if you are a PhD student, you need to conduct your study yourself.</i>)
        </label>
        <div class="btn-group" role="group" aria-label="Assistants question">
            <button type="button" id="assistYes" class="btn btn-outline-success btn-lg" onclick="handleAssistants('Request Assistants')">Yes</button>
            <button type="button" id="assistNo" class="btn btn-outline-success btn-lg" onclick="handleAssistants('Conduct Study Yourself')">No</button>
        </div>
    </div>

    <!-- Study Steps will be revealed after all questions are answered -->
    <div id="studySteps" class="mt-4 hidden">
        <h4 class="text-center">Your Steps</h4>
        <div class="step-buttons-container" style="display: flex; flex-direction: column; gap: 20px; margin-top: 20px;">
            <!-- Dynamically generated links -->
            <a href="#" id="step1Link" class="step-button">
                <button style="
                    width: 100%;
                    padding: 15px;
                    background-color: transparent;
                    border: 2px solid #007bff;
                    color: #007bff;
                    font-size: 22px;
                    border-radius: 8px;
                    text-align: center;
                    cursor: pointer;
                    transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease;">
                    Step 1: Study creation
                </button>
            </a>
            <a href="#" id="step2Link" class="step-button">
                <button style="
                    width: 100%;
                    padding: 15px; 
                    background-color: transparent;
                    border: 2px solid #007bff;
                    color: #007bff;
                    font-size: 22px;
                    border-radius: 8px;
                    text-align: center;
                    cursor: pointer;
                    transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease;">
                    Step 2: Data collection
                </button>
            </a>
            <a href="#" id="step3Link" class="step-button">
                <button style="
                    width: 100%;
                    padding: 15px; 
                    background-color: transparent;
                    border: 2px solid #007bff;
                    color: #007bff;
                    font-size: 22px;
                    border-radius: 8px;
                    text-align: center;
                    cursor: pointer;
                    transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease;">
                    Step 3: After data collection
                </button>
            </a>
        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='js/researcher_overview.js') }}"></script>
<link rel="stylesheet" href="{{ url_for('static', filename='css/researcher_overview.css') }}">  

{% endblock %}
